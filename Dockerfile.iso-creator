FROM debian:12

# Install required packages
RUN apt-get update && apt-get install -y \
    wget \
    xorriso \
    squashfs-tools \
    rsync \
    isolinux \
    syslinux-common \
    file \
    && rm -rf /var/lib/apt/lists/*

# Set working directory
WORKDIR /work

# Copy the repository
COPY . /work/

# Make scripts executable
RUN chmod +x create_custom_iso.sh

# Run as root (required for ISO creation)
USER root

